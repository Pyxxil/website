(function(e,a){function f(){b.classList.remove("closing");[].forEach.call(a.getElementById("menu").querySelectorAll(".custom-can-transform"),function(d){return d.classList.toggle("pure-menu-horizontal")})}function g(){b.classList.contains("open")?(b.classList.add("closing"),h=setTimeout(f,500)):b.classList.contains("closing")?clearTimeout(h):f();b.classList.toggle("open");a.getElementById("toggle").classList.toggle("x")}var b=a.getElementById("menu"),h;a.getElementById("toggle").addEventListener("click",function(d){g();d.preventDefault()});e.addEventListener(e.onorientationchange?"orientationchange":"resize",function(){return b.classList.contains("open")&&g()});var c=a.getElementById("darkSwitch");if(c){var k=null!==localStorage.getItem("darkSwitch")&&"dark"===localStorage.getItem("darkSwitch");(c.checked=k)?a.body.setAttribute("data-theme","dark"):a.body.removeAttribute("data-theme");c.addEventListener("change",function(){c.checked?(a.body.setAttribute("data-theme","dark"),localStorage.setItem("darkSwitch","dark")):(a.body.removeAttribute("data-theme"),localStorage.removeItem("darkSwitch"))})}const $q=e=>document.getElementById(e),url=encodeURIComponent(window.location.href),newRequest=function(e=!0){fetch("https://api.websitecarbon.com/b?url="+url).then((function(e){if(!e.ok)throw Error(e);return e.json()})).then((function(n){e&&renderResult(n),n.t=(new Date).getTime(),localStorage.setItem("wcb_"+url,JSON.stringify(n))})).catch((function(e){$q("wcb_g").innerHTML="No Result",console.log(e),localStorage.removeItem("wcb_"+url)}))},renderResult=function(e){$q("wcb_g").innerHTML=e.c+"g of CO<sub>2</sub>/view",$q("wcb_2").insertAdjacentHTML("beforeEnd","Cleaner than "+e.p+"% of pages tested")},badge=$q("wcb");if("fetch"in window){let e=localStorage.getItem("wcb_"+url);const n=(new Date).getTime();if(e){const t=JSON.parse(e);renderResult(t),n-t.t>864e5&&newRequest(!1)}else newRequest()}})(this,this.document);
